<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ZKWorkerController</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ZKWorkerController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKUtils.html" title="class in edu.iu.dsc.tws.common.zk"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/iu/dsc/tws/common/zk/ZKWorkerController.html" target="_top">Frames</a></li>
<li><a href="ZKWorkerController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.iu.dsc.tws.common.zk</div>
<h2 title="Class ZKWorkerController" class="title">Class ZKWorkerController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.iu.dsc.tws.common.zk.ZKWorkerController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a>, <a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerStatusUpdater</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ZKWorkerController</span>
extends java.lang.Object
implements <a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a>, <a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerStatusUpdater</a></pre>
<div class="block">we assume each worker is assigned a unique ID outside of this class.
 <p>
 We create following directories for a job by the submitting client.
   persistent state znode (directory)
   ephemeral state znode (directory)
   barrier znode (directory)
   events znode (directory)

 We create a persistent znode for each worker under the job persistent state znode.
   It has WorkerInfo object and the latest WorkerState
   Job Master watches the children of this znode for worker state changes.
   We also use these znodes for checking whether workers are coming from failure.

 We create an ephemeral znode for each worker under the job ephemeral state znode.
   The children of this znode is used for watching for worker failures and joins.
   Job Master watches the children of this znode.

 We create a barrier znode for each worker under the job barrier znode,
   when a barrier operation started.
   When all workers created their znodes under this directory, all workers arrived on the barrier.
   Job master watches the children of this znode and informs all workers by publishing an event.
   Each worker is responsible for deletion of their znodes under the barrier directory,
   when they proceed through the barrier.
   Job Master deletes the worker barrier znodes in case of scaling down or job termination.

 <p>
 When the job completes, job terminator deletes all job znodes.
 Sometimes, job terminator may not be invoked or it may fail before cleaning up job resources.
 Therefore, when a job is being submitted,
 we check whether the directories that will be used by the job exists,
 if so, job submission will fail.
 User need to first run job termination or should use another job name.

 <p>
 Events
 All events except the job scaling event is published on the events znode (directory)
 as new child znodes with sequential numerical names
 Workers get job scaling events by watching persistent job znode</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#ZKWorkerController-edu.iu.dsc.tws.api.config.Config-java.lang.String-int-WorkerInfo-">ZKWorkerController</a></span>(<a href="../../../../../../edu/iu/dsc/tws/api/config/Config.html" title="class in edu.iu.dsc.tws.api.config">Config</a>&nbsp;config,
                  java.lang.String&nbsp;jobID,
                  int&nbsp;numberOfWorkers,
                  WorkerInfo&nbsp;workerInfo)</code>
<div class="block">Construct ZKWorkerController but do not initialize yet</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#addAllJoinedListener-edu.iu.dsc.tws.api.resource.IAllJoinedListener-">addAllJoinedListener</a></span>(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IAllJoinedListener.html" title="interface in edu.iu.dsc.tws.api.resource">IAllJoinedListener</a>&nbsp;iAllJoinedListener)</code>
<div class="block">add a single IAllJoinedListener
 if additional IAllJoinedListener tried to be added,
 do not add and return false</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#addFailureListener-edu.iu.dsc.tws.api.resource.IWorkerFailureListener-">addFailureListener</a></span>(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerFailureListener</a>&nbsp;iWorkerFailureListener)</code>
<div class="block">add a single IWorkerFailureListener
 if additional IWorkerFailureListener tried to be added,
 do not add and return false</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#addJMFailureListener-edu.iu.dsc.tws.api.resource.IJobMasterFailureListener-">addJMFailureListener</a></span>(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IJobMasterFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IJobMasterFailureListener</a>&nbsp;iJobMasterFailureListener)</code>
<div class="block">TODO: jm restarted implemented, but jm failed not implemented yet
 Supports multiple IJobMasterFailureListeners</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#addScalerListener-edu.iu.dsc.tws.api.resource.IScalerListener-">addScalerListener</a></span>(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IScalerListener.html" title="interface in edu.iu.dsc.tws.api.resource">IScalerListener</a>&nbsp;iScalerListener)</code>
<div class="block">add a single IScalerListener
 if additional IScalerListener tried to be added,
 do not add and return false</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;WorkerInfo&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#cloneWorkers--">cloneWorkers</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#close--">close</a></span>()</code>
<div class="block">close all local entities.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;WorkerInfo&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getAllWorkers--">getAllWorkers</a></span>()</code>
<div class="block">get all workers in the job.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;WorkerInfo&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getCurrentWorkers--">getCurrentWorkers</a></span>()</code>
<div class="block">Get current list of workers
 This list does not have the workers that have failed or already completed</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerFailureListener</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getFailureListener--">getFailureListener</a></span>()</code>
<div class="block">Get the failure listener</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;WorkerInfo&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getJoinedWorkers--">getJoinedWorkers</a></span>()</code>
<div class="block">get all joined workers in this job, including the ones finished execution
 if there are some workers that have not joined yet, they may not be included in this list.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getNumberOfCurrentWorkers--">getNumberOfCurrentWorkers</a></span>()</code>
<div class="block">get number of current workers in the job as seen from this worker</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getNumberOfWorkers--">getNumberOfWorkers</a></span>()</code>
<div class="block">return the number of all workers in this job,
 including non-started ones and finished ones</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>WorkerInfo</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getWorkerInfo--">getWorkerInfo</a></span>()</code>
<div class="block">return the WorkerInfo object for this worker</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>WorkerInfo</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getWorkerInfoForID-int-">getWorkerInfoForID</a></span>(int&nbsp;id)</code>
<div class="block">return the WorkerInfo object for the given ID</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>WorkerState</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#getWorkerStatusForID-int-">getWorkerStatusForID</a></span>(int&nbsp;id)</code>
<div class="block">return the status of any worker in the job</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#initialize-WorkerState-">initialize</a></span>(WorkerState&nbsp;initState)</code>
<div class="block">Initialize this ZKWorkerController
 Connect to the ZK server
 create a persistent znode for this worker
   set this WorkerInfo and its status in the body of that znode
 create an ephemeral znode for this worker
 create a cache for the persistent znode of the job for watching job scaling events

 initialState has to be either: WorkerState.STARTED or WorkerState.RESTARTED</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#updateWorkerStatus-WorkerState-">updateWorkerStatus</a></span>(WorkerState&nbsp;newStatus)</code>
<div class="block">Update worker status with new state
 return true if successful</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKWorkerController.html#waitOnBarrier--">waitOnBarrier</a></span>()</code>
<div class="block">All workers create a znode on the job barrier directory
 Job master watches for directory creations/removals
 when the number of znodes on that directory reaches the number of workers in thr job,
 Job master publishes AllArrivedOnBarrier event
 Workers proceed when they get this event or when they time out</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.edu.iu.dsc.tws.api.resource.IWorkerController">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;edu.iu.dsc.tws.api.resource.<a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></h3>
<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getCheckpointingClient--">getCheckpointingClient</a>, <a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getRuntimeObject-java.lang.String-">getRuntimeObject</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOG</h4>
<pre>public static final&nbsp;java.util.logging.Logger LOG</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ZKWorkerController-edu.iu.dsc.tws.api.config.Config-java.lang.String-int-WorkerInfo-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ZKWorkerController</h4>
<pre>public&nbsp;ZKWorkerController(<a href="../../../../../../edu/iu/dsc/tws/api/config/Config.html" title="class in edu.iu.dsc.tws.api.config">Config</a>&nbsp;config,
                          java.lang.String&nbsp;jobID,
                          int&nbsp;numberOfWorkers,
                          WorkerInfo&nbsp;workerInfo)</pre>
<div class="block">Construct ZKWorkerController but do not initialize yet</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize-WorkerState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(WorkerState&nbsp;initState)
                throws java.lang.Exception</pre>
<div class="block">Initialize this ZKWorkerController
 Connect to the ZK server
 create a persistent znode for this worker
   set this WorkerInfo and its status in the body of that znode
 create an ephemeral znode for this worker
 create a cache for the persistent znode of the job for watching job scaling events

 initialState has to be either: WorkerState.STARTED or WorkerState.RESTARTED
 <p>
 The body of the persistent worker znode will be updated as the status of worker changes
 from STARTED, COMPLETED,</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="updateWorkerStatus-WorkerState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWorkerStatus</h4>
<pre>public&nbsp;boolean&nbsp;updateWorkerStatus(WorkerState&nbsp;newStatus)</pre>
<div class="block">Update worker status with new state
 return true if successful
 <p>
 Initially worker status is set as STARTED or RESTARTED.
 Therefore, there is no need to call this method after starting this IWorkerController
 This method should be called to change worker status to COMPLETED, FAILED, etc.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html#updateWorkerStatus-JobMasterAPI.WorkerState-">updateWorkerStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerStatusUpdater</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getWorkerStatusForID-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkerStatusForID</h4>
<pre>public&nbsp;WorkerState&nbsp;getWorkerStatusForID(int&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html#getWorkerStatusForID-int-">IWorkerStatusUpdater</a></code></span></div>
<div class="block">return the status of any worker in the job</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html#getWorkerStatusForID-int-">getWorkerStatusForID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerStatusUpdater.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerStatusUpdater</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getWorkerInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkerInfo</h4>
<pre>public&nbsp;WorkerInfo&nbsp;getWorkerInfo()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getWorkerInfo--">IWorkerController</a></code></span></div>
<div class="block">return the WorkerInfo object for this worker</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getWorkerInfo--">getWorkerInfo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
</dl>
</li>
</ul>
<a name="getWorkerInfoForID-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkerInfoForID</h4>
<pre>public&nbsp;WorkerInfo&nbsp;getWorkerInfoForID(int&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getWorkerInfoForID-int-">IWorkerController</a></code></span></div>
<div class="block">return the WorkerInfo object for the given ID</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getWorkerInfoForID-int-">getWorkerInfoForID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
</dl>
</li>
</ul>
<a name="getNumberOfWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfWorkers</h4>
<pre>public&nbsp;int&nbsp;getNumberOfWorkers()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getNumberOfWorkers--">IWorkerController</a></code></span></div>
<div class="block">return the number of all workers in this job,
 including non-started ones and finished ones</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getNumberOfWorkers--">getNumberOfWorkers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
</dl>
</li>
</ul>
<a name="getJoinedWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinedWorkers</h4>
<pre>public&nbsp;java.util.List&lt;WorkerInfo&gt;&nbsp;getJoinedWorkers()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getJoinedWorkers--">IWorkerController</a></code></span></div>
<div class="block">get all joined workers in this job, including the ones finished execution
 if there are some workers that have not joined yet, they may not be included in this list.
 users can compare the total number of workers to the size of this list and
 understand whether there are non-joined workers</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getJoinedWorkers--">getJoinedWorkers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllWorkers</h4>
<pre>public&nbsp;java.util.List&lt;WorkerInfo&gt;&nbsp;getAllWorkers()
                                         throws <a href="../../../../../../edu/iu/dsc/tws/api/exceptions/TimeoutException.html" title="class in edu.iu.dsc.tws.api.exceptions">TimeoutException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getAllWorkers--">IWorkerController</a></code></span></div>
<div class="block">get all workers in the job.
 If some workers has not joined the job yet, wait for them.
 After waiting for the timeout specified in ControllerContext.maxWaitTimeForAllToJoin
 if some workers still could not join, throw an exception
 <p>
 return all workers in the job including the ones that have already left, if any</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getAllWorkers--">getAllWorkers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/exceptions/TimeoutException.html" title="class in edu.iu.dsc.tws.api.exceptions">TimeoutException</a></code></dd>
</dl>
</li>
</ul>
<a name="cloneWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneWorkers</h4>
<pre>protected&nbsp;java.util.List&lt;WorkerInfo&gt;&nbsp;cloneWorkers()</pre>
</li>
</ul>
<a name="addFailureListener-edu.iu.dsc.tws.api.resource.IWorkerFailureListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addFailureListener</h4>
<pre>public&nbsp;boolean&nbsp;addFailureListener(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerFailureListener</a>&nbsp;iWorkerFailureListener)</pre>
<div class="block">add a single IWorkerFailureListener
 if additional IWorkerFailureListener tried to be added,
 do not add and return false</div>
</li>
</ul>
<a name="addAllJoinedListener-edu.iu.dsc.tws.api.resource.IAllJoinedListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAllJoinedListener</h4>
<pre>public&nbsp;boolean&nbsp;addAllJoinedListener(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IAllJoinedListener.html" title="interface in edu.iu.dsc.tws.api.resource">IAllJoinedListener</a>&nbsp;iAllJoinedListener)</pre>
<div class="block">add a single IAllJoinedListener
 if additional IAllJoinedListener tried to be added,
 do not add and return false</div>
</li>
</ul>
<a name="addScalerListener-edu.iu.dsc.tws.api.resource.IScalerListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScalerListener</h4>
<pre>public&nbsp;boolean&nbsp;addScalerListener(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IScalerListener.html" title="interface in edu.iu.dsc.tws.api.resource">IScalerListener</a>&nbsp;iScalerListener)</pre>
<div class="block">add a single IScalerListener
 if additional IScalerListener tried to be added,
 do not add and return false</div>
</li>
</ul>
<a name="addJMFailureListener-edu.iu.dsc.tws.api.resource.IJobMasterFailureListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addJMFailureListener</h4>
<pre>public&nbsp;boolean&nbsp;addJMFailureListener(<a href="../../../../../../edu/iu/dsc/tws/api/resource/IJobMasterFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IJobMasterFailureListener</a>&nbsp;iJobMasterFailureListener)</pre>
<div class="block">TODO: jm restarted implemented, but jm failed not implemented yet
 Supports multiple IJobMasterFailureListeners</div>
</li>
</ul>
<a name="getCurrentWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentWorkers</h4>
<pre>public&nbsp;java.util.List&lt;WorkerInfo&gt;&nbsp;getCurrentWorkers()</pre>
<div class="block">Get current list of workers
 This list does not have the workers that have failed or already completed</div>
</li>
</ul>
<a name="getNumberOfCurrentWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfCurrentWorkers</h4>
<pre>public&nbsp;int&nbsp;getNumberOfCurrentWorkers()
                              throws java.lang.Exception</pre>
<div class="block">get number of current workers in the job as seen from this worker</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="waitOnBarrier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitOnBarrier</h4>
<pre>public&nbsp;void&nbsp;waitOnBarrier()
                   throws <a href="../../../../../../edu/iu/dsc/tws/api/exceptions/TimeoutException.html" title="class in edu.iu.dsc.tws.api.exceptions">TimeoutException</a></pre>
<div class="block">All workers create a znode on the job barrier directory
 Job master watches for directory creations/removals
 when the number of znodes on that directory reaches the number of workers in thr job,
 Job master publishes AllArrivedOnBarrier event
 Workers proceed when they get this event or when they time out
 <p>
 Worker remove their znodes after they proceed through the barrier
 so that they can wait on the barrier again
 Workers are responsible for creating and removing znodes on the barrier
 Job master removes barrier znode after the job completion or scale down.

 if timeout is reached, throws TimeoutException.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#waitOnBarrier--">waitOnBarrier</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/exceptions/TimeoutException.html" title="class in edu.iu.dsc.tws.api.exceptions">TimeoutException</a></code></dd>
</dl>
</li>
</ul>
<a name="getFailureListener--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFailureListener</h4>
<pre>public&nbsp;<a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerFailureListener.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerFailureListener</a>&nbsp;getFailureListener()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getFailureListener--">IWorkerController</a></code></span></div>
<div class="block">Get the failure listener</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html#getFailureListener--">getFailureListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../edu/iu/dsc/tws/api/resource/IWorkerController.html" title="interface in edu.iu.dsc.tws.api.resource">IWorkerController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the failure listener</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">close all local entities.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/iu/dsc/tws/common/zk/ZKUtils.html" title="class in edu.iu.dsc.tws.common.zk"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/iu/dsc/tws/common/zk/ZKWorkerController.html" target="_top">Frames</a></li>
<li><a href="ZKWorkerController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
